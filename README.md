# SVG Map Generator

Generate beautiful SVG maps from GeoJSON files containing polygon data. Perfect for creating interactive maps of cities, neighborhoods, districts, and other geographic regions.
            <svg id="my-svg" viewBox="0 0 200 150"><polygon points="30,29 21.5,29 21.5,21.5 29.5,21.5 30,29 " stroke="white" stroke-width=".3" fill="#85e5c0"/><polygon points="30,29 30,36.5 17,33.5 19,29 30,29 " stroke="white" stroke-width=".3" fill="#e25d2d"/><polygon points="30,29 29.5,21.5 35,21.5 35,29 30,29 " stroke="white" stroke-width=".3" fill="#7fb3db"/><polygon points="30,29 37.5,29 35,38.5 30,36.5 30,29 " stroke="white" stroke-width=".3" fill="#a7aeef"/><polygon points="17,18 21.5,21.5 19,33.5 13,29 17,18 " stroke="white" stroke-width=".3" fill="#fcb5f1"/><polygon points="71.5,36.5 74.5,39 68.5,43 61.5,42.5 56.5,40 57,31 71.5,36.5 " stroke="white" stroke-width=".3" fill="#f9f284"/><polygon points="39.5,47 46.5,45 46,53 39.5,53 39.5,47 " stroke="white" stroke-width=".3" fill="#b2ffc6"/><polygon points="39.5,47 35.5,54.5 30,51 30,45.5 39.5,47 " stroke="white" stroke-width=".3" fill="#cc3768"/><polygon points="46,53 43,57.5 33.5,53.5 46,53 " stroke="white" stroke-width=".3" fill="#e87475"/><polygon points="30,45.5 30,38 43,43 39.5,47 30,45.5 " stroke="white" stroke-width=".3" fill="#efe417"/><polygon points="46,53 48,48 48.5,53.5 46,53 " stroke="white" stroke-width=".3" fill="#d5e582"/><polygon points="56.5,46.5 56.5,49.5 53,47.5 57.5,41 56.5,46.5 " stroke="white" stroke-width=".3" fill="#f486b2"/><polygon points="53,47 56.5,49.5 53.5,58 43,57.5 54.5,51.5 53,47 " stroke="white" stroke-width=".3" fill="#e8d474"/><polygon points="8,41 0,36 13.5,31 27,43 8,41 " stroke="white" stroke-width=".3" fill="#217cd1"/><polygon points="8,41 16,40 21,52 10.5,47 8,41 " stroke="white" stroke-width=".3" fill="#7cffda"/><polygon points="17.5,43.5 27,43 22,52 17.5,43.5 " stroke="white" stroke-width=".3" fill="#b385e5"/><polygon points="70,57.5 78,58 76.5,63.5 70,63 70,57.5 " stroke="white" stroke-width=".3" fill="#e592ad"/><polygon points="78.5,52.5 78,58 70,57.5 78.5,52.5 " stroke="white" stroke-width=".3" fill="#aaffa0"/><polygon points="66.5,57.5 67,66 59.5,66 59.5,60.5 66.5,57.5 " stroke="white" stroke-width=".3" fill="#dd7cbd"/><polygon points="70,63 76.5,63.5 75,71.5 69,71 70,63 " stroke="white" stroke-width=".3" fill="#d8db23"/><polygon points="70,55.5 67,66 66.5,57.5 70,55.5 " stroke="white" stroke-width=".3" fill="#b74121"/><polygon points="59.5,66 69.5,66 69.5,79 59.5,66 " stroke="white" stroke-width=".3" fill="#59a6e5"/><polygon points="44.5,62 49,63 44.5,62 " stroke="white" stroke-width=".3" fill="#53d114"/><polygon points="39,57.5 53.5,59 44,62 39,57.5 " stroke="white" stroke-width=".3" fill="#deaaed"/><polygon points="58,69 53.5,66 62,68.5 58,69 " stroke="white" stroke-width=".3" fill="#b3ffaf"/><polygon points="53.5,59 54,64.5 46.5,64 53.5,59 " stroke="white" stroke-width=".3" fill="#d37665"/><polygon points="52.5,60.5 59.5,60.5 59.5,64 54,65 52.5,60.5 " stroke="white" stroke-width=".3" fill="#3bd65f"/><polygon points="59.5,64 59.5,67.5 54,65 59.5,64 " stroke="white" stroke-width=".3" fill="#ef2d34"/><polygon points="54,65 53.5,71 47,70.5 48.5,66 54,65 " stroke="white" stroke-width=".3" fill="#02eae2"/><polygon points="30,39 30,51 39,57.5 29,50.5 28,54 28,51 27,54 26,50.5 22,52 27,41.5 19,34.5 30,39 " stroke="white" stroke-width=".3" fill="#2e69a0"/><polygon points="24.5,94.5 19.5,97 16,86.5 24.5,87.5 24.5,94.5 " stroke="white" stroke-width=".3" fill="#5709a0"/><polygon points="24.5,94.5 30,93.5 29.5,103 24.5,102.5 24.5,97.5 19.5,98.5 24.5,94.5 " stroke="white" stroke-width=".3" fill="#237799"/><polygon points="29.5,108.5 32.5,108.5 33,114 30,119 24.5,116 27,114 22,108 29.5,108.5 " stroke="white" stroke-width=".3" fill="#af2a4b"/><polygon points="27,72 24.5,70 16.5,76 19,88 7.5,79 24.5,69 27,72 " stroke="white" stroke-width=".3" fill="#2e5ea5"/><polygon points="27,72 32,82 16,81.5 16.5,76 24.5,70 27,72 " stroke="white" stroke-width=".3" fill="#9478e2"/><polygon points="30,90 30,93.5 24.5,94.5 24.5,87.5 32.5,81.5 30,90 " stroke="white" stroke-width=".3" fill="#f8ffb2"/><polygon points="31.5,82 27,87.5 19,87.5 18.5,82 31.5,82 " stroke="white" stroke-width=".3" fill="#87ffcb"/><polygon points="20,98.5 24.5,97.5 24.5,102.5 29.5,103 29.5,108.5 22,108 27,115.5 18.5,108.5 21,104 17,101.5 20,98.5 " stroke="white" stroke-width=".3" fill="#50fc8a"/><polygon points="62,69 69.5,78.5 65.5,87 58,80.5 57.5,70 62,69 " stroke="white" stroke-width=".3" fill="#fcd0c2"/><polygon points="65.5,87 71.5,86.5 76,96 68,97.5 59.5,92.5 58,80.5 65.5,87 " stroke="white" stroke-width=".3" fill="#a316e0"/><polygon points="61,93.5 76,99 79,112 72.5,112 70,100.5 61,93.5 " stroke="white" stroke-width=".3" fill="#f9dcc2"/><polygon points="69.5,97.5 76,96 77.5,101 69.5,97.5 " stroke="white" stroke-width=".3" fill="#c8f232"/><polygon points="81.5,94 85,101 77.5,101 75,94 81.5,94 " stroke="white" stroke-width=".3" fill="#0eabba"/><polygon points="77.5,101 86.5,101 88.5,107 78.5,107 77.5,101 " stroke="white" stroke-width=".3" fill="#f9f2ac"/><polygon points="78,106.5 100,112 80,113.5 78,106.5 " stroke="white" stroke-width=".3" fill="#5a85ce"/><polygon points="95.5,112 93.5,115.5 97.5,117.5 88,115.5 88,119 83,119 83,114 95.5,112 " stroke="white" stroke-width=".3" fill="#2fb52d"/><polygon points="69.5,71.5 75.5,72 78.5,85 69.5,79 69.5,71.5 " stroke="white" stroke-width=".3" fill="#ca6bea"/><polygon points="69.5,79 74,85 80,85 81.5,94 75,94 71.5,86.5 65.5,87 69.5,79 " stroke="white" stroke-width=".3" fill="#c5ffb2"/><polygon points="47,97 54.5,110 40.5,108.5 40.5,100 47,97 " stroke="white" stroke-width=".3" fill="#ed2d56"/><polygon points="32.5,81.5 40,81.5 42,87.5 30,90 32.5,81.5 " stroke="white" stroke-width=".3" fill="#63890b"/><polygon points="36.5,90 40.5,87 45,90.5 44.5,100 37.5,98 36.5,90 " stroke="white" stroke-width=".3" fill="#db4380"/><polygon points="30,90 36.5,90 38,100 29.5,98.5 30,90 " stroke="white" stroke-width=".3" fill="#db95e2"/><polygon points="35,100 40.5,99.5 40.5,108.5 34.5,108.5 35,100 " stroke="white" stroke-width=".3" fill="#8b3cb2"/><polygon points="29.5,98.5 35,98.5 34.5,108.5 29.5,108.5 29.5,98.5 " stroke="white" stroke-width=".3" fill="#6d0f96"/><polygon points="81.5,94 77.5,80.5 84.5,84 88,91.5 90.5,86 94,87.5 86.5,101 81.5,94 " stroke="white" stroke-width=".3" fill="#ef7ad4"/><polygon points="60.5,45.5 56.5,46.5 57.5,41 60.5,45.5 " stroke="white" stroke-width=".3" fill="#09e54b"/><polygon points="60.5,45.5 68,43.5 71.5,46.5 69,51.5 62.5,47.5 57.5,49 56.5,46 60.5,45.5 " stroke="white" stroke-width=".3" fill="#61d37d"/><polygon points="71.5,46 80.5,46.5 79.5,52 71.5,54 71.5,46 " stroke="white" stroke-width=".3" fill="#d80007"/><polygon points="56.5,47 62,50 61.5,60 52.5,60.5 56.5,47 " stroke="white" stroke-width=".3" fill="#bff49a"/><polygon points="61,49 72,54 61.5,60 61,49 " stroke="white" stroke-width=".3" fill="#aa2952"/><polygon points="69.5,9 67,16.5 62,17 61.5,7.5 69.5,9 " stroke="white" stroke-width=".3" fill="#cc0ddd"/><polygon points="73,18.5 72,9 78,8 84.5,22 73,18.5 " stroke="white" stroke-width=".3" fill="#1fe239"/><polygon points="69.5,9 73,18.5 65,18 69.5,9 " stroke="white" stroke-width=".3" fill="#6e82d3"/><polygon points="72,0 70.5,7.5 61.5,7.5 61.5,0 72,0 " stroke="white" stroke-width=".3" fill="#82e56b"/><polygon points="72,0 77.5,1.5 79,9 69.5,9 72,0 " stroke="white" stroke-width=".3" fill="#f78818"/><polygon points="45.5,0 56,0.5 56,8 49,14.5 45.5,14.5 45.5,0 " stroke="white" stroke-width=".3" fill="#447bbf"/><polygon points="55.5,0 61.5,0 62,12.5 53,12.5 55.5,0 " stroke="white" stroke-width=".3" fill="#a4f9b8"/><polygon points="45.5,14.5 53,12.5 53.5,22 45.5,21.5 45.5,14.5 " stroke="white" stroke-width=".3" fill="#a8ffab"/><polygon points="53,12.5 62,12.5 62,17 66.5,17 65,21.5 53.5,22 53,12.5 " stroke="white" stroke-width=".3" fill="#9ff9de"/><polygon points="44.5,34.5 39,35.5 35,25.5 45.5,25.5 48,34.5 44.5,34.5 " stroke="white" stroke-width=".3" fill="#e0ba5c"/><polygon points="44.5,34.5 57,31 57,39.5 50,45 44.5,34.5 " stroke="white" stroke-width=".3" fill="#9df296"/><polygon points="37.5,33.5 47,36.5 46.5,43 34.5,39 37.5,33.5 " stroke="white" stroke-width=".3" fill="#a8d854"/><polygon points="53.5,22 57.5,30.5 46,31.5 45.5,21.5 53.5,22 " stroke="white" stroke-width=".3" fill="#b264d6"/><polygon points="78,20.5 85,22.5 86,29 75.5,29 78,20.5 " stroke="white" stroke-width=".3" fill="#a8c3ed"/><polygon points="64.5,22 73,25.5 72.5,36 67.5,36.5 62,31 64.5,22 " stroke="white" stroke-width=".3" fill="#37cc4f"/><polygon points="84,22 94,24 93,30 86,29.5 84,22 " stroke="white" stroke-width=".3" fill="#5df793"/><polygon points="73,25.5 78.5,29 74.5,36.5 71.5,36.5 73,25.5 " stroke="white" stroke-width=".3" fill="#5fef5f"/><polygon points="78.5,29 92,31 81.5,39.5 83.5,36 80.5,34.5 83.5,34.5 78.5,33 78.5,29 " stroke="white" stroke-width=".3" fill="#f7bbe3"/><polygon points="73,36.5 78,33 83.5,34.5 80.5,34.5 83.5,37.5 80,43 73,36.5 " stroke="white" stroke-width=".3" fill="#f21377"/><polygon points="64,22 62,31 58.5,31 53.5,22 64,22 " stroke="white" stroke-width=".3" fill="#fec4ff"/><polygon points="47,89 58,90.5 72,105 55.5,99 47,89 " stroke="white" stroke-width=".3" fill="#3374d6"/><polygon points="47,97 51.5,96.5 63,106 51,106.5 47,97 " stroke="white" stroke-width=".3" fill="#5151c1"/><polygon points="39,79.5 39,73.5 45,72 45,82 39,79.5 " stroke="white" stroke-width=".3" fill="#e5678f"/><polygon points="65,18 78,18.5 78,25.5 67.5,25.5 65,18 " stroke="white" stroke-width=".3" fill="#1c8c8a"/><polygon points="50,96 46,96.5 40,81.5 32.5,81.5 26,70 32,75.5 37,75 50,96 " stroke="white" stroke-width=".3" fill="#f29199"/><polygon points="58,69 59,90.5 49,90 45,85.5 49,72 46.5,70.5 58,69 " stroke="white" stroke-width=".3" fill="#f4a946"/><polygon points="30.5,0 40,0 40.5,14.5 28,12.5 30.5,0 " stroke="white" stroke-width=".3" fill="#8e0b00"/><polygon points="40,0 45.5,0 45.5,14.5 40,13.5 40,0 " stroke="white" stroke-width=".3" fill="#99f7dc"/><polygon points="37.5,14.5 30.5,14.5 26.5,21.5 16.5,19 28,12.5 35.5,11.5 37.5,14.5 " stroke="white" stroke-width=".3" fill="#fc35e5"/><polygon points="35,14.5 35,21.5 26.5,21.5 30.5,14.5 35,14.5 " stroke="white" stroke-width=".3" fill="#2c3d93"/><polygon points="37.5,14.5 45.5,14.5 45.5,25.5 35,25.5 37.5,14.5 " stroke="white" stroke-width=".3" fill="#4564b7"/></svg>

* Example of Seattle. Greatly simplified for example purposes.

## Features

-  **Convert GeoJSON to SVG**: Transform polygon-based GeoJSON files into clean, scalable SVG maps
-  **Flexible Filtering**: Filter polygons based on properties (city, region, type, etc.)
- ️ **Custom Titles**: Add custom titles to each polygon region
-  **Interactive Links**: Make regions clickable with custom href attributes
-  **Color Coding**: Assign colors based on districts, categories, or custom logic
- ️ **CLI Tool**: Easy-to-use command line interface
-  **Multiple Outputs**: Generate standalone SVG files or complete HTML pages

## Installation

### Global Installation
```bash
npm install -g .
```

### Development Setup
```bash
npm link
```

## Usage

### Basic Usage
```bash
svg-map-generator <config-file> [options]
```

Or

```bash 
npx svg-map-generator <config-file> [options]
```

Example: 
`npx svg-map-generator ./config/sample-config-new-york.js -o nyc-test-test.html`

### Options
- `-h, --help`: Show help message
- `-o, --output <file>`: Output file name (default: output.svg)
- `-v, --verbose`: Verbose output

### Examples
```bash
# Generate Seattle neighborhood map
svg-map-generator config/seattle.js -o seattle-map.html

# Generate NYC borough map as SVG
npx svg-map-generator ./config/sample-config-new-york.js -o nyc-test.html -v
```

## Configuration

### Configuration Options

#### Core Settings
- `fileName`: Path to GeoJSON file
- `city`: Display name for the map
- `scale`: Scale factor for the SVG (default: 1)
- `simplifyFactor`: Polygon simplification (0.001-0.01, lower = more detail)
- `outputType`: "svg" for standalone SVG, "html" for complete webpage

#### Custom functions (customOptions) for filtering data and adding tooltip and hyperlink functionality to SVG
- `filterCallback(feature)`: Return true to include a feature in the output
- `getMetaData(feature)`: Extract custom data from each GeoJSON feature
- `title.getTitle(metaData)`: Generate title text for each polygon
- `anchorTag.getHref(metaData)`: Generate href for clickable regions (or null)
- `assignNeighborhoodRegionColors(metaData)`: Return color/category for styling

### JavaScript Config Files 

JavaScript config files provide the most flexibility with real functions, imports, and IDE support.

#### New York City Boroughs Example

Create `config/nyc.js`:

```javascript
module.exports = {
  fileName: "./data/nyc-neighborhoods.geojson",
  city: "New York City, NY",
  scale: 1,
  simplifyFactor: 0.001,
  outputType: "svg",
  
  customOptions: {
    // Extract borough and neighborhood data
    getMetaData: (feature) => {
      const borough = feature.properties?.borough || 'Unknown';
      const neighborhoodName = feature.properties?.neighborhood || feature.properties?.name || 'Unknown';
      return {
        borough,
        neighborhoodName
      };
    }
    // Show neighborhood and borough in title
    title: {
      getTitle: (metaData) => `${metaData.neighborhoodName}, ${metaData.borough}`
    },
    
    // No links for this example
    anchorTag: {
      getHref: null
    },
    
    // Include all features
    filterCallback: (feature) => feature,
    
    // Color by borough
    assignNeighborhoodRegionColors: (metaData) => metaData.borough,
    
  }
};

```
## GeoJSON Requirements

Your GeoJSON file should contain:
- Features with `Polygon` or `MultiPolygon` geometry
- Properties containing relevant metadata (names, categories, etc.)

Example GeoJSON structure:
```json
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "name": "Capitol Hill",
        "city": "Seattle",
        "district": "D3"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[
          [-122.123, 47.456],
          [-122.124, 47.457],
          ...
        ]]
      }
    }
  ]
}
```

## Output Examples
See output folder for example outputs. HTML files can be opened in the browser to view the SVG image.

## Development

### Project Structure
```
svg-city-src/
├── cli.js              # Command line interface
├── main.js             # Core SVG generation logic
├── helpers.js          # Utility functions
├── parseData.js        # GeoJSON parsing
├── package.json        # Package configuration
└── config/             # Example config files
    ├── seattle.js
    └── nyc.js
```

### Building from Source
```bash
git clone <repository>
cd svg-map-generator/svg-city-src
npm install
```

## License

ISC License

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## Support

For issues, questions, or feature requests, please create an issue in the repository.